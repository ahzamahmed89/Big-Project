<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Display</title>
</head>
<link rel="stylesheet" href="style.css">



<body>
    <h1>Physical Mystery Shopping Form</h1>
    <table id="dataTable">
        <thead>
            <tr>
                <th>Category</th>
                <th>Activity</th>
                <!-- Add other headers as per your schema -->
            </tr>
        </thead>
        <tbody>
            <!-- Data rows will be inserted here by JavaScript -->
        </tbody>
    </table>
    <script>
        fetch('http://localhost:5000/data')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not OK');
            }
            return response.json();
        })
        .then(data => {
            const table = document.getElementById('dataTable').getElementsByTagName('tbody')[0];
            let lastCategory = null;
            let useLightGreen = true;  // Start with light green as true
        
            data.forEach(item => {
                let row = table.insertRow();
        
                // Check if the category has changed
                if (lastCategory !== item.Category) {
                    if (lastCategory !== null) {
                        // Adds a top border to create a visual gap if it's not the first category
                        row.classList.add('category-gap');
                    }
                    // Always flip the color on a new category
                    useLightGreen = !useLightGreen;
                }
        
                let categoryCell = row.insertCell(0);
                let activityCell = row.insertCell(1);
                categoryCell.innerHTML = item.Category;
                activityCell.innerHTML = item.Activity;
        
                // Apply color based on current toggle state
                if (useLightGreen) {
                    categoryCell.classList.add('light-green');
                    activityCell.classList.add('light-green');
                } else {
                    categoryCell.classList.add('white');
                    activityCell.classList.add('white');
                }
        
                // Update lastCategory to the current one
                lastCategory = item.Category;
            });
        })
        .catch(error => {
            console.error('Fetch error:', error);
            alert('Failed to fetch data. Check the console for more information.');
        });
        </script>
            
        
        
</body>
</html>

